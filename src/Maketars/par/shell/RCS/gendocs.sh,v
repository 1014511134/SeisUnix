head	1.15;
access;
symbols;
locks
	john:1.15; strict;
comment	@# @;


1.15
date	98.12.14.17.39.27;	author john;	state Exp;
branches;
next	1.14;

1.14
date	98.03.31.19.14.10;	author john;	state Exp;
branches;
next	1.13;

1.13
date	96.10.24.15.38.13;	author john;	state Exp;
branches;
next	1.12;

1.12
date	95.07.26.10.21.28;	author john;	state Exp;
branches;
next	1.11;

1.11
date	95.07.26.10.19.40;	author john;	state Exp;
branches;
next	1.10;

1.10
date	94.10.05.10.34.47;	author john;	state Exp;
branches;
next	1.9;

1.9
date	94.09.14.09.16.33;	author john;	state Exp;
branches;
next	1.8;

1.8
date	94.06.09.16.22.34;	author john;	state Exp;
branches;
next	1.7;

1.7
date	94.06.02.14.25.50;	author john;	state Exp;
branches;
next	1.6;

1.6
date	93.09.13.12.50.47;	author john;	state Exp;
branches;
next	1.5;

1.5
date	93.09.13.11.34.04;	author john;	state Exp;
branches;
next	1.4;

1.4
date	93.06.18.11.12.18;	author john;	state Exp;
branches;
next	1.3;

1.3
date	92.12.10.09.41.37;	author john;	state Exp;
branches;
next	1.2;

1.2
date	92.11.17.13.54.55;	author john;	state Exp;
branches;
next	1.1;

1.1
date	92.11.17.10.42.20;	author john;	state Exp;
branches;
next	;


desc
@gendocs.sh
@


1.15
log
@changed Public Domain to Free
@
text
@#! /bin/sh
# /*********************** self documentation **********************/
# GENDOCS - generate complete list of selfdocs in latex form
#
# Usage: gendocs -o  output filename is:  selfdocs.tex
#
# /**************** end self doc ********************************/

# Author: John Stockwell -- 5 Jan 1992

PATH=/bin:/usr/bin:/usr/ucb

##################$############################################################
# test for CWPROOT
###############################################################################
if test "${CWPROOT}" = ""
then
	echo "The environment variable \"CWPROOT\" "
	echo "is not set in the user's working shell environment."
	echo "To set this variable in C-shell, use the command: "
	echo "  setenv  CWPROOT  /your/cwp/root/path"
	echo "To set this variable in Bourne or Korn-shell, use the command:"
	echo "  export  CWPROOT=/your/cwp/root/path" ; exit 1

fi

################################################################################
# test for CWPSRC, use value if set, define as $CWPROOT if not set
# (CWPSRC allows one set of source code and documentation for multiple machines)
################################################################################
if test "${CWPSRC}" = ""
then
CWPSRC=$CWPROOT
fi

WORKINGDIR=`pwd`
ROOT=${CWPSRC}
OUTFILE=selfdocs.tex
FILE=$WORKINGDIR/$OUTFILE
DIR=${ROOT}/src
STRIP=$DIR/doc/Stripped
HEADALL=${ROOT}/src/doc/Headers/Headers.all

SHELLS="cwp.shell par.shell su.shell psplot.shell "

LIBS="psplot.lib xplot.lib Xtcwp.lib Xmcwp.lib su.lib cwp.lib tri.lib "

MAINS="par.main su.main su.graphics.psplot su.graphics.xplot \
psplot.main xplot.main Xtcwp.main Xmcwp.main su.graphics.psplot \
su.graphics.xplot xtri tri.main tri.graphics.psplot "

CWPMAINS="cwp.main"


# check for arguments
for i
do
	case $i in
	-o)	# inform user that file is being built
		echo
		echo "Beginning generation of" 
		echo "$OUTFILE"
		echo "This will take about a minute"
		echo "             --- Please standby"
		echo

		rm $FILE

		# begin building selfdocs.tex
echo "%selfdocs.tex --- complete list of CWP Free program selfdocs" >> $FILE
		echo "% generated by --- GENDOCS" >> $FILE
		echo " " >> $FILE
		echo "\\documentstyle[12pt]{article}" >> $FILE
		echo " " >> $FILE
		echo "\\textwidth 6.25in" >> $FILE
		echo "\\textheight 8.75in" >> $FILE
		echo "\\oddsidemargin .125in" >> $FILE
		echo "\\evensidemargin .125in" >> $FILE
		echo "%\topmargin -.5in" >> $FILE
		echo " " >> $FILE
#
#		echo "\\title{Complete Listing of CWP Free" >> $FILE 
#		echo "Program Self-Documentations}" >> $FILE
#		echo "\\author{{\\em generated by GENDOCS}, \\\\\ " >> $FILE
#		echo "a shell script by John Stockwell \\\\\ " >> $FILE
#		echo "Center for Wave Phenomena \\\\\ " >> $FILE
#		echo "Colorado School of Mines}" >> $FILE
#		echo "\\date{\\""\today}" >> $FILE


		echo "\\begin{document}" >> $FILE
#		echo "\\maketitle " >> $FILE

## if you do not have titlepagesd.tex, uncomment the lines commented out
## above and comment out the next line
		echo "\\input /usr/local/cwp/src/su/tutorial/titlepagesd.tex" >> $FILE
		echo "" >> $FILE
		cd $DIR/doc

		
		echo "\\pagebreak" >> $FILE
		echo "\\section*{Names and Short descriptions of the Codes}" \
			>> $FILE
		echo " CWPROOT = $CWPROOT" >> $FILE
		echo >> $FILE
		echo "\\begin{verbatim}" >> $FILE

		cat $HEADALL >> $FILE

		echo "\\end{verbatim}" >> $FILE

		echo "\\begin{verbatim}" >> $FILE
		echo "" >> $FILE
		echo "To search on a program name fragment, type:" >> $FILE
		echo "      suname name_fragment <CR>" >> $FILE
		echo "" >> $FILE
		echo "For more information type: program_name <CR>" >> $FILE
		echo "" >> $FILE
		echo "  Items labeled with an asterisk (*) are C programs \
				that may">> $FILE
		echo "  or may not have this self documentation feature. " \
				>> $FILE
		echo "" >> $FILE
		echo "  Items labeled with a pound sign (#) are shell \
				scripts that may,">>$FILE
		echo "  or may not have the self documentation feature." \
				>> $FILE
		echo "" >> $FILE

		echo "\\end{verbatim}" >> $FILE

		echo "\\pagebreak" >> $FILE

		echo "\\section*{Self Documentations}" >> $FILE


		# use the Stripped versions
		cd $DIR/doc/Stripped

		echo "Mains: " >> $FILE

		for i in $CWPMAINS
		do
			for j in $STRIP/*.$i
			do
				echo "\\begin{verbatim}" >> $FILE
				echo "______" >> $FILE
				cat $j >> $FILE
				echo "\\end{verbatim}" >> $FILE
			done
			echo "\\pagebreak" >> $FILE
		done
		

		for i in $MAINS
		do
			for j in $STRIP/*.$i
			do
				echo "\\begin{verbatim}" >> $FILE
				cat $j >> $FILE
				echo "\\end{verbatim}" >> $FILE
				echo "\\pagebreak" >> $FILE
			done
		done

		echo "Shells: " >> $HEADALL

		for i in $SHELLS
		do
			for j in $STRIP/*.$i
			do
				echo "\\begin{verbatim}" >> $FILE
				echo "______" >> $FILE
				cat $j >> $FILE
				echo "\\end{verbatim}" >> $FILE
			done
			echo "\\pagebreak" >> $FILE
		done

		echo "Libs: " >> $HEADALL

		for i in $LIBS
		do
			for j in $STRIP/*.$i
			do
				echo "\\begin{verbatim}" >> $FILE
				cat $j >> $FILE
				echo "\\end{verbatim}" >> $FILE
				echo "\\pagebreak" >> $FILE
			done
		done

		echo "\\end{document}" >> $FILE

		echo "The document $OUTFILE is now ready."
		exit 1
		;;
	esac
done

# else echo a usage message
echo
echo "GENDOCS - Shell to GENerate the complete listing of CWP selfDOCS"
echo
echo
echo "Output is the file in LaTeX format called:    selfdocs.tex" 
echo
echo
echo "Usage:  gendocs -o"  

exit 0
@


1.14
log
@added John Anderson'
s
@
text
@d70 1
a70 1
echo "%selfdocs.tex --- complete list of CWP Public Domain program selfdocs" >> $FILE
@


1.13
log
@removed addtional \\
@
text
@d13 23
d37 1
a37 1
ROOT=${CWPROOT}
@


1.12
log
@added tri.graphics.psplot
@
text
@d52 2
a53 2
		echo "\\""\textwidth 6.25in" >> $FILE
		echo "\\""\textheight 8.75in" >> $FILE
d56 1
a56 1
		echo "\\""\topmargin -.5in" >> $FILE
d59 1
a59 1
#		echo "\\""\title{Complete Listing of CWP Free" >> $FILE 
d68 1
a68 1
		echo "\\\\begin{document}" >> $FILE
d73 1
a73 1
		echo "\\input /usr/local/cwp/src/installer/TeX/titlepagesd.tex" >> $FILE
d83 1
a83 1
		echo "\\\\begin{verbatim}" >> $FILE
d87 1
a87 1
		echo "\\\\end{verbatim}" >> $FILE
d89 1
a89 1
		echo "\\\\begin{verbatim}" >> $FILE
d107 1
a107 1
		echo "\\\\end{verbatim}" >> $FILE
d123 1
a123 1
				echo "\\\\begin{verbatim}" >> $FILE
d126 1
a126 1
				echo "\\\\end{verbatim}" >> $FILE
d136 1
a136 1
				echo "\\\\begin{verbatim}" >> $FILE
d138 1
a138 1
				echo "\\\\end{verbatim}" >> $FILE
d149 1
a149 1
				echo "\\\\begin{verbatim}" >> $FILE
d152 1
a152 1
				echo "\\\\end{verbatim}" >> $FILE
d163 1
a163 1
				echo "\\\\begin{verbatim}" >> $FILE
d165 1
a165 1
				echo "\\\\end{verbatim}" >> $FILE
@


1.11
log
@added support for xtri tri.lib tri.main
@
text
@d27 1
a27 1
su.graphics.xplot xtri tri.main "
@


1.10
log
@incorporated GRI titlepage
@
text
@d23 1
a23 1
LIBS="psplot.lib xplot.lib Xtcwp.lib Xmcwp.lib su.lib cwp.lib "
d27 1
a27 1
su.graphics.xplot "
@


1.9
log
@rearranged hierarchy
@
text
@d58 8
a66 7
		echo "\\""\title{Complete Listing of CWP Free" >> $FILE 
		echo "Program Self-Documentations}" >> $FILE
		echo "\\author{{\\em generated by GENDOCS}, \\\\\ " >> $FILE
		echo "a shell script by John Stockwell \\\\\ " >> $FILE
		echo "Center for Wave Phenomena \\\\\ " >> $FILE
		echo "Colorado School of Mines}" >> $FILE
		echo "\\date{\\""\today}" >> $FILE
d68 2
d71 3
a73 2
		echo "\\\\begin{document}" >> $FILE
		echo "\\maketitle " >> $FILE
d81 2
a82 1
		
@


1.8
log
@more fixes to include su/graphics
@
text
@d21 2
a22 1
SHELLS="cwp.shell par.shell psplot.shell su.shell "
d24 2
a25 1
MAINS="cwp.main par.main su.main su.graphics.psplot su.graphics.xplot \
d29 1
d31 1
a111 1
		echo >> $HEADALL
d114 13
d134 1
a137 1
		echo >> $HEADALL
d145 1
d149 1
a151 1
		echo >> $HEADALL
d154 1
a154 1
		for i in $SHELLS
d161 1
@


1.7
log
@updated to include new lib docs
@
text
@d18 2
d21 7
d71 2
a72 1
	echo "\\section*{Names and Short descriptions of the Codes}" >> $FILE
d74 1
a74 1
		cd $DIR/doc/Headers
d76 1
a76 2
		for i in main shell lib
		do
d78 1
a78 15
			if [ "$i" = "main" ]
			then
				echo "Mains:" >> $FILE
				echo >> $FILE
			elif [ "$i" = "shell" ]
			then
				echo "\\pagebreak" >> $FILE
				echo "Shell Scripts:" >> $FILE
				echo >> $FILE
			elif [ "$i" = "lib" ]
			then
				echo "\\pagebreak" >> $FILE
				echo "Library Packages:" >> $FILE
				echo >> $FILE
			fi
d80 17
d98 1
a98 1
			echo "\\\\begin{verbatim}" >> $FILE
d100 1
a100 9
			for j in cwp par seismic su psplot xplot Xtcwp Xmcwp
			do
				for k in *.$j.$i
				do
					if test -f "$k"
					then
					echo >> $FILE
					echo "In CWPROOT/src/$j/$i: " >> $FILE
				        cat $DIR/doc/Headers/HEADERS.$j.$i >> $FILE 
d102 1
a102 2
					fi
				done
a103 3
			done
			echo "\\\\end{verbatim}" >> $FILE
		done
d105 2
a106 13
echo "\\\\begin{verbatim}" >> $FILE
echo "" >> $FILE
echo "To search on a program name fragment, type:" >> $FILE
echo "      suname name_fragment <CR>" >> $FILE
echo "" >> $FILE
echo "For more information type: program_name <CR>" >> $FILE
echo "" >> $FILE
echo "  Items labeled with an asterisk (*) are C programs that may">> $FILE
echo "  or may not have this self documentation feature. " >> $FILE
echo "" >> $FILE
echo "  Items labeled with a pound sign (#) are shell scripts that may,">>$FILE
echo "  or may not have the self documentation feature." >> $FILE
echo "" >> $FILE
d108 2
a109 1
echo "\\\\end{verbatim}" >> $FILE
d111 9
a119 1
echo "\\pagebreak" >> $FILE
d121 2
a122 1
echo "\\section*{Self Documentations}" >> $FILE
d124 9
d134 2
a135 2
		# use the Stripped versions
		cd $DIR/doc/Stripped
d137 3
a139 2
		# loop through the contents of the doc directory
		for i in  main shell lib 
d141 3
a143 20
			count=0
			for j in cwp par su psplot seismic xplot Xtcwp Xmcwp
			do
				if test -d $ROOT/src/$j/$i
				then
					echo "In CWPROOT/src/$j/$i:" >> $FILE
				fi

				for k in *.$j.$i
				do
				     if test -f "$k"
				     then
				   	     echo "\\\\begin{verbatim}" >> $FILE
						
				     	     cat $k >> $FILE

					     echo "\\\\end{verbatim}" >> $FILE
	        			     echo "\\pagebreak" >> $FILE
                                     fi
				done
d146 1
@


1.6
log
@try, try, again....
@
text
@d17 1
a17 1
DIR=$ROOT/src
d46 1
a46 1
		echo "\\""\title{Complete Listing of CWP Public Domain" >> $FILE 
d64 1
a64 2
		echo "\\\\begin{verbatim}" >> $FILE
		echo "" >> $FILE
d66 2
a67 1
		cat $DIR/doc/Headers/HEADERS >> $FILE
d69 37
d119 1
d121 1
a121 2
		echo "\\\\end{verbatim}" >> $FILE
		echo "\\pagebreak" >> $FILE
d123 1
a123 1
		echo "\\section*{Self Documentations}" >> $FILE
d128 1
d130 1
a130 1
		for i in  *
d132 7
a138 11
			if test -f "$i"
			then
				echo "\\\\begin{verbatim}" >> $FILE
				echo "" >> $FILE
				cat $i >> $FILE
				echo "\\\\end{verbatim}" >> $FILE
				echo "\\pagebreak" >> $FILE
			else
			echo
		
			fi
d140 12
d153 2
a154 1
			echo "\\end{document}" >> $FILE
d156 3
a158 3
			echo "The document $OUTFILE is now ready."
			exit 1
			;;
@


1.5
log
@fixed small bug 
@
text
@d39 5
a43 5
		echo "\\\\textwidth 6.25in" >> $FILE
		echo "\\\\textheight 8.75in" >> $FILE
		echo "\\\\oddsidemargin .125in" >> $FILE
		echo "\\\\evensidemargin .125in" >> $FILE
		echo "\\\\topmargin -.5in" >> $FILE
d46 1
a46 1
		echo "\\\\title{Complete Listing of CWP Public Domain" >> $FILE 
d52 1
a52 1
		echo "\\date{\\\\today}" >> $FILE
@


1.4
log
@revision for release 20
@
text
@d34 2
a35 2
echo "\%selfdocs.tex --- complete list of CWP Public Domain program selfdocs" >> $FILE
		echo "\% generated by --- GENDOCS" >> $FILE
@


1.3
log
@changed /usr/local/cwp   ${CWPROOT}
@
text
@d2 3
a4 1
# generate complete list of selfdocs in latex form
d6 3
d57 1
a57 3

		echo " " >> $FILE

d69 14
d89 2
d92 1
a92 1
		for i in `ls`
d98 3
a100 13
       				cat $DIR/doc/$i |
sed '
s/^"//
s/",$//
s/\\\"/"/g
s/\\\\/\\/g
s/	/        /g
/\/\*\*\*/d
/char \*sdoc/d
/NULL/d
' >> $FILE
echo "\\\\end{verbatim}" >> $FILE
echo "\\pagebreak" >> $FILE
@


1.2
log
@added stipped headers
@
text
@d9 1
a9 1
ROOT=/usr/local/cwp
d29 1
a29 1
echo "\%selfdocs.tex --- complete list of CWP program selfdocs" >> $FILE
d41 2
a42 2
		echo "\\\\title{Complete Listing of CWP Program" >> $FILE 
		echo "Self-Documentations}" >> $FILE
@


1.1
log
@Initial revision
@
text
@d29 2
a30 1
echo "\%selfdocs.tex --- complete list of SU program selfdocs" >> $FILE
d40 10
d51 2
d54 18
a71 1
		echo " " >> $FILE
a72 1
		cd $DIR/doc
@
